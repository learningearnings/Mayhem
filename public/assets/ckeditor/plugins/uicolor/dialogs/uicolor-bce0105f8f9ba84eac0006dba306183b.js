/*
Copyright (c) 2003-2012, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/
CKEDITOR.dialog.add("uicolor",function(e){function t(e){/^#/.test(e)&&(e=window.YAHOO.util.Color.hex2rgb(e.substr(1))),a.setValue(e,!0),a.refresh(s)}function n(t,n){(n||i._.contents.tab1.livePeview.getValue())&&e.setUiColor(t),i._.contents.tab1.configBox.setValue('config.uiColor = "#'+a.get("hex")+'"')}var i,a,o,r=e.getUiColor(),s="cke_uicolor_picker"+CKEDITOR.tools.getNextNumber();o={id:"yuiColorPicker",type:"html",html:"<div id='"+s+"' class='cke_uicolor_picker' style='width: 360px; height: 200px; position: relative;'></div>",onLoad:function(){var e=CKEDITOR.getUrl("plugins/uicolor/yui/");a=new window.YAHOO.widget.ColorPicker(s,{showhsvcontrols:!0,showhexcontrols:!0,images:{PICKER_THUMB:e+"assets/picker_thumb.png",HUE_THUMB:e+"assets/hue_thumb.png"}}),r&&t(r),a.on("rgbChange",function(){i._.contents.tab1.predefined.setValue(""),n("#"+a.get("hex"))});for(var o=new CKEDITOR.dom.nodeList(a.getElementsByTagName("input")),l=0;l<o.count();l++)o.getItem(l).addClass("cke_dialog_ui_input_text")}};var l=!0;return{title:e.lang.uicolor.title,minWidth:360,minHeight:320,onLoad:function(){i=this,this.setupContent(),CKEDITOR.env.ie7Compat&&i.parts.contents.setStyle("overflow","hidden")},contents:[{id:"tab1",label:"",title:"",expand:!0,padding:0,elements:[o,{id:"tab1",type:"vbox",children:[{id:"livePeview",type:"checkbox",label:e.lang.uicolor.preview,"default":1,onLoad:function(){l=!0},onChange:function(){if(!l){var e=this.getValue(),t=e?"#"+a.get("hex"):r;n(t,!0)}}},{type:"hbox",children:[{id:"predefined",type:"select","default":"",label:e.lang.uicolor.predefined,items:[[""],["Light blue","#9AB8F3"],["Sand","#D2B48C"],["Metallic","#949AAA"],["Purple","#C2A3C7"],["Olive","#A2C980"],["Happy green","#9BD446"],["Jezebel Blue","#14B8C4"],["Burn","#FF893A"],["Easy red","#FF6969"],["Pisces 3","#48B4F2"],["Aquarius 5","#487ED4"],["Absinthe","#A8CF76"],["Scrambled Egg","#C7A622"],["Hello monday","#8E8D80"],["Lovely sunshine","#F1E8B1"],["Recycled air","#B3C593"],["Down","#BCBCA4"],["Mark Twain","#CFE91D"],["Specks of dust","#D1B596"],["Lollipop","#F6CE23"]],onChange:function(){var e=this.getValue();e?(t(e),n(e),CKEDITOR.document.getById("predefinedPreview").setStyle("background",e)):CKEDITOR.document.getById("predefinedPreview").setStyle("background","")},onShow:function(){var t=e.getUiColor();t&&this.setValue(t)}},{id:"predefinedPreview",type:"html",html:'<div id="cke_uicolor_preview" style="border: 1px solid black; padding: 3px; width: 30px;"><div id="predefinedPreview" style="width: 30px; height: 30px;">&nbsp;</div></div>'}]},{id:"configBox",type:"text",label:e.lang.uicolor.config,onShow:function(){var t=e.getUiColor();t&&this.setValue('config.uiColor = "'+t+'"')}}]}]}],buttons:[CKEDITOR.dialog.okButton]}});