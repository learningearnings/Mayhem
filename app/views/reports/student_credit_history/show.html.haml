.main-content-wrapper
  .primary-content-fw
    %h2 Student Credit History Report

    = form_tag student_credit_history_report_path, method: :get do
      .filter
        %h4 Filter By
        .all-students
          = radio_button_tag :student_filter_type, :all_at_school, params[:student_filter_type] == 'all_at_school'
          = label_tag :all_at_school, "All students at #{current_school.name.capitalize}"
        .given-credits
          = radio_button_tag :student_filter_type, :students_ive_given_bucks_to, params[:student_filter_type] == 'students_ive_given_bucks_to'

          = label_tag :students_ive_given_bucks_to, "Students I've given credits to"
        .all-classrooms
          = radio_button_tag :student_filter_type, :all_my_classrooms, params[:student_filter_type] == 'all_my_classrooms'

          = label_tag "All my classrooms"
        .classroom
          = radio_button_tag :student_filter_type, :classroom, params[:student_filter_type] == 'classroom'

          = label_tag "Classroom"
          = select_tag :classroom, options_from_collection_for_select(classrooms, :id, :name, params[:classroom])
          = submit_tag 'Go!'

      .sorting
        %h4 Sort By
        = select_tag :sort_by, options_for_select(["Default", "First, Last", "Last, First", "Username"], params[:sort_by])
        = submit_tag 'Go!'

    .report
      %table.table.table-bordered.table-striped.solid-background
        %thead
          %tr
            - report.header_strings.each do |header|
              %th= header
        %tbody
          - report.data_rows do |row|
            %tr
              - report.header_keys.each do |key|
                %td= row.send(key)
