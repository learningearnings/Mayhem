%h1 Reward Templates

= link_to 'Create a Custom Reward', '#', class: 'awesome-button'

#reward-templates
  = form_for 'reward_templates_search', remote: true, id: 'reward-template-form' do |f|
    #template-controls
      = f.select :grade_filter, options_for_select(School::GRADES)
      = f.text_field :search
      = hidden_field_tag :page, params[:page]
      = f.submit 'Search', class: 'awesome-button'
#reward-templates-grid
  - @reward_templates.each_slice(9) do |reward_templates_row|
    - reward_templates_row.each_slice(3) do |reward_templates|
      .template-row
        - reward_templates.each do |reward_template|
          %span.template
            = link_to image_tag('le_logo.png'), teachers_reward_template_path(reward_template)
            = link_to reward_template.name, teachers_reward_template_path(reward_template)

  = paginate @reward_templates


:javascript
  $(document).ready(function() {

    $("#reward-templates").children().on("ajax:success", function(e, data, status, xhr){
      $("#reward-templates-grid").replaceWith(xhr.responseText);
    });

  });
